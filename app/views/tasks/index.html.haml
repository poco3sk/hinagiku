%h1 タスクの一覧

%ul.navigation
  - if params[:action] == "index"
    %li.selected 未完了タスク
  - else
    %li= link_to "未完了タスク", :tasks

  - if params[:action] == "done"
    %li.selected 完了したタスク
  - else
    %li= link_to "完了したタスク", [ :done, :tasks ]

%table.tasks
  %col.name
  %col.due_date
  %col.links
  - @tasks.each do |task|
    %tr
      %td= link_to task.name, task
      %td= task.due_date
      %td
        = link_to "修正", [ :edit, task ]
        - if task.done?
          = link_to "戻す", [ :restart, task ], method: :put
        - else
          = link_to "完了", [ :finish, task ], method: :put
        = link_to "削除", task, method: :delete, confirm: "本当に削除しますか？"

= link_to "新規登録", [ :new, :task ]
